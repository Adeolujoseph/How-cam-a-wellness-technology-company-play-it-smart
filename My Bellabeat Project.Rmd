---
title: "Bellabeat Project"
author: "Adeolu Fawole"
date: "2/26/2022"
output:
  pdf_document: default
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Statement of Business Task

This project is designed to analyse user data of smart devices of non bellabeat products 
and discover applicable insights for  bellabeat products in a bid to identify  more opportunities for growth for the company's management team.


##  Description of Data sources used
The dataset was generated by respondents to a distributed survey via Amazon mechanical Turk in Dec 2016. Data used is stored in csv formatand can be gotten from public domain 'Kaggle' via https://www.kaggle.com/arashnic/fitbit 
It is reliable as it is accurate, unbiased i.e no sample selection bias and complete.It is original as it was gotten from primary source. It is comprehensive, current (data is less than 8 years) and vetted as depicted by the high usablity on Kaggle
Also, there are no privacy and licensing challenges on the data as the Thirty eligible fitbit users consented to the submission of their personal tracker data. It is stored in long format. 

## Documentation of any cleaning or manipulation

Data was organized and named using an easy and consistent convention for easy accessibility.

All files were saved in a particular folder which was set as working directory in R as seen below

```{r}
setwd('C:/Users/ADEOLU JOSEPH/Desktop/Capstone Project1')
```

Data was read in R and checked for errors. Consistency of data and datatype was observed using R as seen below
```{r}
library(tidyverse)
daily_act=read.csv('dailyActivity_merged.csv')
str(daily_act)
```

Duplicate values were checked as seen below and none was observed
```{r}
duplicate<-group_by(daily_act, Id, ActivityDate, TotalSteps) %>%  filter(n()> 1)
view(duplicate)
```

sorting and filtering of data were done smoothly to understand and prepare the data for analysis
```{r}
library(dplyr)
view(filter(daily_act, TotalSteps>15000 & Calories> 4500))
view(arrange(daily_act, desc(Calories), desc(TotalSteps)))
```

## Summary of Analysis

Since Calories is an important Variable every user monitors, getting insight through its relationship with other variables was aimed at, using the file 'dailyActivityMerged'. Using scatter plot and correlation, the relationship between Calories and each of the following variables ; Total distance,Total Steps,Light Active distance,Moderately Active distance,Very Active distance,Very Active minutes,Moderately Active Minutes and Lightly Active minutes was observed 

As observed from the result, total distance affects Calories significantly, hence the variable has the highest positive correlation with Total distance. This will guide on how we can strategically influence total distance covered in a bid to ultimately improve calories figures 


To analyse sleep activities, the file 'daily_activity' and 'sleepday' are joined using ID and activitydate as common columns. column name 'sleepday'  was changed to ActivityDate ensuring the same data type and consistency. See code chunks below

```{r}
sleep_day <- read.csv('sleepDay_merged.csv')
head(sleep_day)
Sleep_day<-sleep_day %>% rename('ActivityDate'='SleepDay')  #to rename column name to become the same 
str(daily_act)
class(Sleep_day$ActivityDate)='chr'  
daily_act$ActivityDate=paste(daily_act$ActivityDate, '12:00:00 AM', sep = ' ', collapse = NULL) #to ensure the two columns are consistent. 
combined_data<-merge(daily_act,Sleep_day, by=c('Id','ActivityDate'))
view(combined_data)

```

## Supporting Visualizations and Key findings

Using scatter plots and correlation We identify variables that have the strongest relationship and highest correlation with Calories as seen below  

```{r}
ggplot(data=daily_act)+ geom_point(mapping=aes(x=LightActiveDistance,y=Calories))+labs(title='Daily Activities: Light_Active_Distance vs. Calories' )
cor(daily_act$LightActiveDistance, daily_act$Calories)
ggplot(data=daily_act)+ geom_point(mapping=aes(x=ModeratelyActiveDistance,y=Calories))+labs(title='Daily Activities: Moderately_Active_Distance vs. Calories' )
cor(daily_act$ModeratelyActiveDistance, daily_act$Calories)
ggplot(data=daily_act)+ geom_point(mapping=aes(x=VeryActiveDistance,y=Calories))+labs(title='Daily Activities: Very_Active_Distance vs. Calories' )
cor(daily_act$VeryActiveDistance, daily_act$Calories)
ggplot(data=daily_act)+ geom_point(mapping=aes(x=TotalDistance,y=Calories))+labs(title='Daily Activities: Total_Distance vs. Calories' )
cor(daily_act$TotalDistance, daily_act$Calories)
ggplot(data=daily_act)+ geom_point(mapping=aes(x=SedentaryMinutes,y=Calories))+labs(title='Daily Activities: Sedentary_Minutes vs. Calories' )
cor(daily_act$SedentaryMinutes, daily_act$Calories)
ggplot(data=daily_act)+ geom_point(mapping=aes(x=VeryActiveMinutes,y=Calories))+labs(title='Daily Activities: Very_Active_Minutes vs. Calories' )
cor(daily_act$VeryActiveMinutes, daily_act$Calories) 
ggplot(data=daily_act)+ geom_point(mapping=aes(x=FairlyActiveMinutes,y=Calories))+labs(title='Daily Activities: Fairly_Active_Distance vs. Calories' )
cor(daily_act$FairlyActiveMinutes, daily_act$Calories)
ggplot(data=daily_act)+ geom_point(mapping=aes(x=LightlyActiveMinutes,y=Calories))+labs(title='Daily Activities:LightlyActiveMinutes vs. Calories' )
cor(daily_act$LightlyActiveMinutes, daily_act$Calories)
ggplot(data=daily_act)+ geom_point(mapping=aes(x=TotalSteps,y=Calories))+labs(title='Daily Activities: Total_steps vs. Calories' )
cor(daily_act$TotalSteps, daily_act$Calories)
```


### key Findings 

It was observed from the above that Total distance has the highest positive correlation with Calories signifying that people that cover far distance daily tend to burn more calories.


Now we identify variables that have the highest positive relationship with Total distance

```{r}
ggplot(data=daily_act)+ geom_point(mapping=aes(x=VeryActiveDistance,y=TotalDistance))+labs(title='Daily Activities: Very_Active_Distance vs. TotalDistance' )
cor(daily_act$VeryActiveDistance, daily_act$TotalDistance)
ggplot(data=daily_act)+ geom_point(mapping=aes(x=LightActiveDistance,y=TotalDistance))+labs(title='Daily Activities: Light_Active_Distance vs.TotalDistance' )
cor(daily_act$LightActiveDistance, daily_act$TotalDistance)
ggplot(data=daily_act)+ geom_point(mapping=aes(x=ModeratelyActiveDistance,y=TotalDistance))+labs(title='Daily Activities: MOderately_Active_Distance vs.TotalDistance' )
cor(daily_act$ModeratelyActiveDistance, daily_act$TotalDistance)
ggplot(data=daily_act)+ geom_point(mapping=aes(x=SedentaryMinutes,y=TotalDistance))+labs(title='Daily Activities: SedentaryMinutes vs.TotalDistance' )
cor(daily_act$SedentaryMinutes, daily_act$TotalDistance)
ggplot(data=daily_act)+ geom_point(mapping=aes(x=VeryActiveMinutes,y=TotalDistance))+labs(title='Daily Activities: VeryActiveMinutes  vs.TotalDistance' )
cor(daily_act$VeryActiveMinutes, daily_act$TotalDistance)
ggplot(data=daily_act)+ geom_point(mapping=aes(x=FairlyActiveMinutes,y=TotalDistance))+labs(title='Daily Activities: FairlyActiveMinutes  vs.TotalDistance' )
cor(daily_act$FairlyActiveMinutes, daily_act$TotalDistance)
ggplot(data=daily_act)+ geom_point(mapping=aes(x=LightlyActiveMinutes,y=TotalDistance))+labs(title='Daily Activities: LightlyActiveMinutes  vs.TotalDistance' )
cor(daily_act$LightlyActiveMinutes, daily_act$TotalDistance)
```

### Key Findings
It is observed that 'Very Active Distance' has the highest correlation with 'Total distance' and thus a great insight provider for Total distance. 



Using scatter plot and correlation on the combined dataframe, the relationship between minutes asleep and total time in bed was also identified as seen below.

```{r}
ggplot(data=combined_data)+ geom_point(mapping=aes(x=TotalTimeInBed,y=TotalMinutesAsleep))+labs(title='Daily Activities$SleepData: TotalTimeInBed  vs.TotalMinutesAsleep', subtitle='SleepData and Daily Activity', caption='Data collected from kaggle via survey')
cor(combined_data$TotalMinutesAsleep, combined_data$TotalTimeInBed)
```

### Key Findings 
A highly positive correlation of 0.937 was observed.  This indicates that people who spend more time in bed sleep more than those who do not. 



The relationship between Total Sleep time and total distance was observed as seen below

```{r}
ggplot(data=combined_data)+ geom_point(mapping=aes(x=TotalMinutesAsleep,y=TotalDistance))+labs(title='Daily Activities$SleepData: TotalMinutesAsleep Vs TotalDistance' )
cor(combined_data$TotalMinutesAsleep, combined_data$TotalDistance)
```

### Key Findings
A slightly  negative correlation was observed. This indicates that though not significantly, people who have long sleep time tend to cover less distance.



## Top high level Recommendation

-Since it has been observed that Total distance strongly impacts calories burnt, Users who wish to burn more calories should be advised to cover more distance. Different goals, tips and competition may be set up by Bellabeat to motivate users to burn more calories by covering more distance.
-As observed, a way of covering more distance easily is by having more very active distance. Tips and goals involving covering distance actively should also be set up to assist help users cover more distance easily and burn calories. 
-Bed activities may be encouraged for people who wish to sleep more as people who spend more time in bed sleep more
-Users of Bellabeat product  who wish to burn more calories should be advised not to sleep for too long so as to have enough time to cover distance 

These high level recommendations would create more value for users of Bellabeats product and consequently improve the company's growth as creation of value enhances growth